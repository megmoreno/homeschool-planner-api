{"version":3,"sources":["../../src/util/map-query.ts"],"names":["getArgumentValues","getNamedType","isObjectType","Kind","setLoaderMappings","createState","mergeSelection","selectionCompatible","selectionToQuery","addTypeSelectionsForField","type","context","info","state","selection","indirectPath","name","value","startsWith","pothosPrismaInclude","pothosPrismaSelect","pothosPrismaIndirectInclude","pothosPrismaModel","extensions","resolveIndirectInclude","path","resolvedType","field","mode","select","undefined","include","selectionSet","addNestedSelections","includePath","resolve","length","rest","sel","selections","kind","FIELD","returnType","getFields","alias","FRAGMENT_SPREAD","fragments","typeCondition","schema","getType","INLINE_FRAGMENT","Error","addFieldSelection","fieldSelect","fieldSelectionMap","mappings","args","variableValues","rawQuery","indirectInclude","query","normalizedIndirectInclude","Array","isArray","normalizeInclude","getIndirectType","fieldState","createStateForType","Object","keys","resolvedField","node","map","_","queryFromInfo","typeName","getTypeMap","fieldNodes","indirectType","indirectField","subPath","n","nested","selectionStateFromInfo","parentType","parent","targetType","fieldMap","pothosPrismaFieldMap","currentType","normalized","fieldName","push"],"mappings":"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"}